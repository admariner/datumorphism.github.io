<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.4.0 -->
<title>Chi-square Correlation Test for Nominal Data | Datumorphism</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="Chi-square Correlation Test for Nominal Data" />
<meta name="author" content="Datumorphism Collective" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Detecting correlations using Pearson’s chi square correlation test" />
<meta property="og:description" content="Detecting correlations using Pearson’s chi square correlation test" />
<link rel="canonical" href="http://localhost:4000/wiki/statistics/correlation-analysis/" />
<meta property="og:url" content="http://localhost:4000/wiki/statistics/correlation-analysis/" />
<meta property="og:site_name" content="Datumorphism" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-11-18T00:00:00-05:00" />
<script type="application/ld+json">
{"description":"Detecting correlations using Pearson’s chi square correlation test","author":{"@type":"Person","name":"Datumorphism Collective"},"@type":"BlogPosting","url":"http://localhost:4000/wiki/statistics/correlation-analysis/","headline":"Chi-square Correlation Test for Nominal Data","dateModified":"2018-11-18T00:00:00-05:00","datePublished":"2018-11-18T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/wiki/statistics/correlation-analysis/"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css">
  <link rel="stylesheet" href="/assets/bulma/bulma.css">
  <link rel="stylesheet" href="/assets/bulma/bulma-divider.min.css">
  <link rel="stylesheet" href="/assets/bulmawatch/united/bulmaswatch.min.css">
  <link rel="stylesheet" href="/assets/fontawesome/web-fonts-with-css/css/fontawesome-all.min.css">
  <link rel="stylesheet" href="/assets/code/base16-solarized.light.css">


  <link rel="apple-touch-icon" sizes="57x57" href="/assets/favicon/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/favicon/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/favicon/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/favicon/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/favicon/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/favicon/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/favicon/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/favicon/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/assets/favicon/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/favicon/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png">
  <link rel="manifest" href="/assets/favicon/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/favicon/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">



  

  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      TeX: { extensions: ["color.js","cancel.js", "AMSmath.js", "AMSsymbols.js"] },
      messageStyle: "none"
   });
  </script>
  <script type="text/x-mathjax-config">
  MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
    MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{
      cancel: ["Extension","cancel"]
      });
   });
   </script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
        inlineMath: [['$','$'], ['\\(','\\)']]
      }
    });
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      processEscapes: true
    }
  });
</script>
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    TeX: {
      Macros: {
        overlr: ['\\overset\\leftrightarrow{\#1}',1],
        overl: ['\\overset\leftarrow{\#1}',1],
        overr: ['\\overset\rightarrow{\#1}',1],
        bra: ['\\left\\langle \#1\\right|',1],
        ket: ['\\left| \#1\\right\\rangle',1],
        braket: ['\\langle \#1 \\mid \#2 \\rangle',2],
        avg: ['\\left< \#1 \\right>',1],
        slashed: ['\\cancel{\#1}',1],
        bold: ['\\boldsymbol{\#1}',1],
        sech: ['\\operatorname{sech}{\#1}',1],
        csch: ['\\operatorname{csch}{\#1}',1]
      },
      equationNumbers: { autoNumber: "AMS" }
    }
  });
  </script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML' async></script>


  <!-- <link rel="stylesheet" href="//cdn.jsdelivr.net/chartist.js/latest/chartist.min.css"> --><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Datumorphism" /></head>



  <body><header class="site-header" role="banner"><section class="hero is-primary is-medium">
    <!-- Hero head: will stick at the top -->
    <!-- <div class="hero-head"> -->
      <nav class="navbar" role="navigation" aria-label="main navigation">
        <div class="container">
          <div class="navbar-brand">
            <a class="navbar-item has-text-weight-bold" rel="author" href="/">Datumorphism</a>
            <!-- <img src="https://bulma.io/images/bulma-type-white.png" alt="Logo"> -->
            <span class="navbar-burger burger" data-target="navbarMenuHeroA">
            <span></span>
            <span></span>
            <span></span>
            </span>
          </div>
          <div id="navbarMenuHeroA" class="navbar-menu">
            <div class="navbar-end">

              <a class="navbar-item has-text-weight-bold" href="/"><i class="fas fa-home"></i></a>

              
              
              <a class="navbar-item has-text-weight-bold" href="http://localhost:4000/til/" >TIL</a>
              
              
              <a class="navbar-item has-text-weight-bold" href="http://localhost:4000/wiki/" >Wiki</a>
              
              
              <a class="navbar-item has-text-weight-bold" href="http://localhost:4000/reading/" >Reading</a>
              
              
              <a class="navbar-item has-text-weight-bold" href="http://localhost:4000/awesome/" >Awesome</a>
              
              
              <a class="navbar-item has-text-weight-bold" href="http://localhost:4000/blog/" >Blog</a>
              

              

               
              
              
              
              
              
              
              
              <a class="navbar-item has-text-weight-bold" href="/about/">About</a>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

            </div>
          </div>
        </div>
      </nav>
    <!-- </div> -->
  </section>
  <script>
  document.addEventListener('DOMContentLoaded', function () {

  // Get all "navbar-burger" elements
  var $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

  // Check if there are any navbar burgers
  if ($navbarBurgers.length > 0) {

    // Add a click event on each of them
    $navbarBurgers.forEach(function ($el) {
      $el.addEventListener('click', function () {

        // Get the target from the "data-target" attribute
        var target = $el.dataset.target;
        var $target = document.getElementById(target);

        // Toggle the class on both the "navbar-burger" and the "navbar-menu"
        $el.classList.toggle('is-active');
        $target.classList.toggle('is-active');

      });
    });
  }

});
  </script>

</header>
<main class="main--content" aria-label="Content">
    <div class="columns">
      <div class="column is-12">
        <div class="content is-medium">
          <article class="post">

  <header class="post-header">
    <h1 class="post-title has-text-centered is-size-1" itemprop="name headline">Chi-square Correlation Test for Nominal Data</h1>
    <p class="post-meta has-text-centered">
      <time class="dt-published" datetime="2018-11-18T00:00:00-05:00" itemprop="datePublished">Nov 18, 2018
      </time>
       • <span style="font-style: regular;">{</span>
       <span style="padding-right: 0.2em;padding-left: 0.2em;"><a href="http://localhost:4000/wiki/#statistics">⸢Statistics⸥</a></span>
       
       }
      
      
       • <span style="font-style: regular;">[</span>
       <span style="padding-right: 0.2em;padding-left: 0.2em;"><a href="http://localhost:4000/wiki/?keywords=Statistics">#Statistics</a></span>
       
       <span style="padding-right: 0.2em;padding-left: 0.2em;"><a href="http://localhost:4000/wiki/?keywords=Basics">#Basics</a></span>
       
       <span style="padding-right: 0.2em;padding-left: 0.2em;"><a href="http://localhost:4000/wiki/?keywords=Correlation">#Correlation</a></span>
       
       ]
      
      
      
    </p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul id="markdown-toc">
  <li><a href="#steps" id="markdown-toc-steps">Steps</a></li>
  <li><a href="#define-the-series" id="markdown-toc-define-the-series">Define the Series</a></li>
  <li><a href="#count-co-ocurrences" id="markdown-toc-count-co-ocurrences">Count Co-ocurrences</a></li>
  <li><a href="#how-to-use-the-number-chi-square" id="markdown-toc-how-to-use-the-number-chi-square">How to Use the Number Chi-square</a></li>
</ul>

<p>In this article, we will discuss the chi-square correlation test for detecting correlations between two series.</p>

<h2 id="steps">Steps</h2>

<ol>
  <li>Find out all the possible values of the two nominal series A and B;</li>
  <li>Count the co-occurrences of the combinations (A, B);</li>
  <li>Calculate the expected co-occurrences of the combinations (A, B);</li>
  <li>Calculate chi-square;</li>
  <li>Determine whether the hypothesis can be rejected.</li>
</ol>

<h2 id="define-the-series">Define the Series</h2>

<p>Suppose we are analyzing two series A and B. Series A can take values $a_1$ and $a_2$, while series B can take values $b_1$ , $b_2$ and $b_3$.</p>

<script type="math/tex; mode=display">% <![CDATA[
\begin{align}
A &:= \{a1, a2\} \\
B &:= \{b1,b2,b3\}
\end{align} %]]></script>

<p>As an example, we will use the following A and B series for our calculations in this article.</p>

<table>
  <thead>
    <tr>
      <th>index</th>
      <th>A</th>
      <th>B</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>a1</td>
      <td>b2</td>
    </tr>
    <tr>
      <td>2</td>
      <td>a1</td>
      <td>b2</td>
    </tr>
    <tr>
      <td>3</td>
      <td>a1</td>
      <td>b1</td>
    </tr>
    <tr>
      <td>4</td>
      <td>a2</td>
      <td>b1</td>
    </tr>
    <tr>
      <td>5</td>
      <td>a2</td>
      <td>b3</td>
    </tr>
    <tr>
      <td>6</td>
      <td>a2</td>
      <td>b2</td>
    </tr>
    <tr>
      <td>7</td>
      <td>a1</td>
      <td>b2</td>
    </tr>
    <tr>
      <td>8</td>
      <td>a2</td>
      <td>b2</td>
    </tr>
  </tbody>
</table>

<h2 id="count-co-ocurrences">Count Co-ocurrences</h2>

<p>To analyze correlations between the two series, we need to look at whether the values of series A and those of series B would occur together. For example, we would like to know the possibility of values for B if we have $a_1$ occurred.</p>

<div class="notes--info">
  <p>One of the extreme examples is that A and B are exactly the same. In this case, we would know that the value for B is always the same as A for each row. Then we would know that all the possible combinations of (A, B) are</p>
  <ol>
    <li>(a1, a1)</li>
    <li>(a2, a2)</li>
  </ol>

  <p>We could construct the occurrence table.</p>

  <table>
    <thead>
      <tr>
        <th> </th>
        <th>a1</th>
        <th>a2</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>a1</td>
        <td>number of occurrences</td>
        <td>0</td>
      </tr>
      <tr>
        <td>a2</td>
        <td>0</td>
        <td>number of occurrences</td>
      </tr>
    </tbody>
  </table>

</div>

<p>Now we construct a contigency table to denote the ocurrences of the values,  (A, B).</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th>a1</th>
      <th>a2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>b1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <td>b2</td>
      <td>3</td>
      <td>2</td>
    </tr>
    <tr>
      <td>b3</td>
      <td>0</td>
      <td>1</td>
    </tr>
  </tbody>
</table>

<p>where the cells are filled with the number of occurrences of the corresponding combinations. For example, the combination (a1, b1) occurred once, thus 1 in the first row first column.</p>

<p>This table records the <strong>observed frequencies</strong>, which we denote as table O and each cell is denoted as $o_{ij}$.</p>

<div class="notes--info">
  <p>This table tells us about the possible correlations already. Imagine we have two columns that are exactly the same, we would have a table that have large number of occurences on the diagonal elements.</p>
</div>

<div class="notes--warning">
  <p>However, those numbers in the table depends on the number of rows that we have in our original table. To find the actual correlation, we need to normalize it. We could simply divided everything by the total number of rows in the original table. But Pearson had a better idea.</p>
</div>

<p>Pearson’s chi-square correlation is a smart idea.</p>

<p>First of all, we define an expectation table E. Each element of E is calculated as</p>

<script type="math/tex; mode=display">e_{ij} = \frac{ \text{number of} a_i * \text{ number of} b_j }{ \text{ total number of rows in original table } }</script>

<div class="notes--info">
  <p>Basically, we have the total number of possible occurrences divided by the total number of rows. Suppose we have A and B exactly the same, and they all have the same values, a1.</p>

  <table>
    <thead>
      <tr>
        <th>index</th>
        <th>A</th>
        <th>B</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>1</td>
        <td>a1</td>
        <td>a1</td>
      </tr>
      <tr>
        <td>2</td>
        <td>a1</td>
        <td>a1</td>
      </tr>
      <tr>
        <td>3</td>
        <td>a1</td>
        <td>a1</td>
      </tr>
      <tr>
        <td>4</td>
        <td>a1</td>
        <td>a1</td>
      </tr>
      <tr>
        <td>5</td>
        <td>a1</td>
        <td>a1</td>
      </tr>
      <tr>
        <td>6</td>
        <td>a1</td>
        <td>a1</td>
      </tr>
      <tr>
        <td>7</td>
        <td>a1</td>
        <td>a1</td>
      </tr>
      <tr>
        <td>8</td>
        <td>a1</td>
        <td>a1</td>
      </tr>
    </tbody>
  </table>

  <p>Then we expect $e_11 = n$, where $n=8$ is the number of rows.</p>
</div>

<p>Now if we compare the original table with this one,</p>

<script type="math/tex; mode=display">o_{ij} - e_{ij}</script>

<p>we get the deviation from the expected table. With a few little twitches, we would define</p>

<script type="math/tex; mode=display">\chi^2 = \sum_{i,j} \frac{ (o_{ij} - e_{ij})^2 } { e_{ij} }</script>

<div class="notes--info">
  <p>If A and B are the same and each possible values occurred m times, then we would have</p>

  <script type="math/tex; mode=display">o_{ij} = e_{ij} = \delta_{ij} * m.</script>

  <p>Then we get 
<script type="math/tex">\chi^2 = 0</script></p>

  <p>Then we say this chi-square analysis doesn’t reject our hypothesis that these two columns are correlated.</p>
</div>

<h2 id="how-to-use-the-number-chi-square">How to Use the Number Chi-square</h2>

<p>The final question is how to use the result. We usually have a threshold $\chi_0^2$. Whenever our calculated value is larger than this one, we decide that our analysis reject the hypothesis that the two columns are correlated.
This value $\chi_0^2$ can be found in the textbooks.</p>


  </div>

  <div class="is-divider" data-content="END"></div>

  
      <article class="message">
        <div class="message-header">
          <p>References:</p>
        </div>
        <div class="message-body">
          <ul>
          
            <li><a href="" style="text-decoration:none;">Data Mining by Jiawei Han, Micheline Kamber, Jian Pei</a></li>
          
          </ul>
        </div>
      </article>
      


  <a class="u-url" href="/wiki/statistics/correlation-analysis/" hidden></a>





<div class="is-clearfix"></div>

<nav class="pagination is-centered" role="navigation" aria-label="pagination">
  <ul class="pagination-list">
    
    











    
        <a class="pagination-previous" href="/wiki/statistics/accuracy-and-precision/" title="Accuracy and Precision">Previous</a>
    
    
    <li style="list-style:none;">
      <a class="pagination-link " aria-label="Accuracy and Precision" aria-current="page" href="/wiki/statistics/accuracy-and-precision/">1</a>
    </li>
<!--
<div class="columns">

<div class="column">

</div>


<div class="column">
  
      <strong><a class="post-link" href="/wiki/statistics/accuracy-and-precision/">Accuracy and Precision</a></strong>
  
</div>
 -->













    
    
    <li style="list-style:none;">
      <a class="pagination-link is-current" aria-label="Chi-square Correlation Test for Nominal Data" aria-current="page" href="/wiki/statistics/correlation-analysis/">2</a>
    </li>
<!--
<div class="columns">

<div class="column">

</div>


<div class="column">
  
</div>
 -->









    
    
        <a class="pagination-next" href="/wiki/statistics/correlation-coefficient/" title="Correlation Coefficient and Covariance for Numeric Data">Next</a>
    
    <li style="list-style:none;">
      <a class="pagination-link " aria-label="Correlation Coefficient and Covariance for Numeric Data" aria-current="page" href="/wiki/statistics/correlation-coefficient/">3</a>
    </li>
<!--
<div class="columns">

<div class="column">

</div>


<div class="column">
  
</div>
 -->





    
    
    <li style="list-style:none;">
      <a class="pagination-link " aria-label="Normalization Methods for Numeric Data" aria-current="page" href="/wiki/statistics/normalization-methods/">4</a>
    </li>
<!--
<div class="columns">

<div class="column">

</div>


<div class="column">
  
</div>
 -->










</ul>
</nav>


</article>

        </div>
      </div>
    </div>
    </main><footer class="footer">
  <data class="u-url" href="/"></data>
  <div class="container">
    <div class="content has-text-centered">
      <p>
        <strong>Datumorphism</strong> by <a>Datumorphism Collective</a>.
       <span class="icon">
         <a href="https://github.com/datumorphism"><i class="fab fa-github"></i></a>
       </span>
       <span class="icon">
      <a href="/feed.xml"><i class="fas fa-rss"></i></a>
       </span>
      </p>

    </div>
  </div>
</footer>
<!-- <script src="//cdn.jsdelivr.net/chartist.js/latest/chartist.min.js"></script>
<script src="/assets/js/home-chart.js"></script> -->

<script src="/assets/js/collapse.js"></script>



  </body>

</html>
